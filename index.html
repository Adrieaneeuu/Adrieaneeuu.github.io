<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ğŸ“‚ Index general site</title>
  <style>
    body { background:#0d1117; color:#e6edf3; font-family:"Segoe UI",sans-serif;
           padding:30px; max-width:1000px; margin:auto; }
    h1 { color:#ff4d4d; font-size:1.8rem; margin-bottom:5px; }
    p.desc { color:#8b949e; margin-bottom:20px; }
    table { width:100%; border-collapse:collapse; margin-top:10px; }
    th,td { padding:10px; border-bottom:1px solid #30363d; text-align:left; }
    th { color:#aaa; }
    a { color:#58a6ff; text-decoration:none; }
    a:hover { text-decoration:underline; }
    .folder { color:#ffa657; }
    .file { color:#9cdcfe; }
    button { background:#21262d; color:#fff; border:1px solid #30363d; border-radius:6px; padding:5px 10px; cursor:pointer; }
    button:hover { background:#30363d; }
  </style>
</head>
<body>
<h1>ğŸ“‚ Index general pentru Adrieaneeuu.github.io</h1>
<p class="desc">ExploreazÄƒ directoarele È™i fiÈ™ierele site-ului. Link-urile se deschid direct pe <code>https://adrieaneeuu.github.io/</code></p>

<table>
  <thead><tr><th>Nume</th><th>Tip</th><th>MÄƒrime</th><th>AcÈ›iune</th></tr></thead>
  <tbody id="list"><tr><td colspan="4">Se Ã®ncarcÄƒ...</td></tr></tbody>
</table>

<script>
(async()=>{
  const owner="Adrieaneeuu";
  const repo="Adrieaneeuu.github.io";
  const branch="main";
  const siteBase="https://adrieaneeuu.github.io";

  async function loadDir(path="") {
    const res=await fetch(`https://api.github.com/repos/${owner}/${repo}/contents/${path}?ref=${branch}`);
    if(!res.ok){document.getElementById("list").innerHTML=`<tr><td colspan="4">âŒ Eroare ${res.status}</td></tr>`;return;}
    const files=await res.json();
    const list=document.getElementById("list");
    list.innerHTML="";

    // sortÄƒm: directoare primele
    files.sort((a,b)=>a.type.localeCompare(b.type)||a.name.localeCompare(b.name));

    for(const f of files){
      const tr=document.createElement("tr");

      const tdName=document.createElement("td");
      const link=document.createElement("a");
      link.textContent=f.name;

      if(f.type==="dir"){
        link.href="#";
        link.className="folder";
        link.onclick=(e)=>{e.preventDefault();loadDir(f.path);}
      } else {
        link.className="file";
        link.href=`${siteBase}/${f.path}`;
        if(!f.name.endsWith(".html")) link.download=f.name;
      }
      tdName.appendChild(link);

      const tdType=document.createElement("td");
      tdType.textContent=f.type==="dir"?"Director":"FiÈ™ier";

      const tdSize=document.createElement("td");
      tdSize.textContent=f.size?Math.round(f.size/1024)+" KB":"-";

      const tdAction=document.createElement("td");
      if(f.type==="file"){
        const btn=document.createElement("button");
        if(f.name.endsWith(".html")){
          btn.textContent="Deschide";
          btn.onclick=()=>window.open(`${siteBase}/${f.path}`,"_blank");
        }else{
          btn.textContent="DescarcÄƒ";
          btn.onclick=()=>window.open(`${siteBase}/${f.path}`,"_blank");
        }
        tdAction.appendChild(btn);
      } else {
        const backBtn=document.createElement("button");
        backBtn.textContent="ğŸ“ Deschide";
        backBtn.onclick=()=>loadDir(f.path);
        tdAction.appendChild(backBtn);
      }

      tr.append(tdName,tdType,tdSize,tdAction);
      list.appendChild(tr);
    }

    // buton de Ã®ntoarcere la directorul anterior
    if(path){
      const backRow=document.createElement("tr");
      const td=document.createElement("td");
      td.colSpan=4;
      const back=document.createElement("a");
      back.href="#";
      back.textContent="â¬… Ãnapoi";
      back.onclick=(e)=>{e.preventDefault();loadDir(path.split("/").slice(0,-1).join("/"));};
      td.appendChild(back);
      backRow.appendChild(td);
      list.prepend(backRow);
    }
  }

  // pornim din rÄƒdÄƒcinÄƒ
  loadDir("");
})();
</script>
</body>
</html>
